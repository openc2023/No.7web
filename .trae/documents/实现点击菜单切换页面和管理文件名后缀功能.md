# 实现点击菜单切换页面和管理文件名后缀功能

## 1. 后端API开发
### 1.1 创建 `get-page.php` 文件
- 功能：读取指定页面的HTML和CSS内容
- 位置：`/admin/api/get-page.php`
- 安全处理：防止读取上一级目录
- 支持默认加载index.html
- 支持返回空模板

### 1.2 创建 `create-page.php` 文件
- 功能：新建物理文件
- 位置：`/admin/api/create-page.php`
- 安全处理：使用basename防止路径遍历
- 支持创建HTML和CSS文件

## 2. 前端JavaScript逻辑修改
### 2.1 全局变量增加
- 添加 `currentPageFile` 变量，记录当前正在编辑的文件名

### 2.2 修改 `generateTreeHTML` 函数
- 增加 filename 字段处理
- 显示文件名在菜单标签下方
- 为节点添加数据属性

### 2.3 修改 `selectNode` 函数
- 实现页面切换逻辑
- 保存当前页
- 清空编辑器
- 加载新页面内容

### 2.4 添加辅助函数
- `promptForFilename`：处理文件名输入，强制添加.html后缀

### 2.5 修改添加/编辑逻辑
- `addTopMenu`：支持新建页面
- `addSubmenu`：支持添加子页面
- `editMenu`：支持编辑页面名称和文件名

### 2.6 更新 `saveProject` 函数
- 保存到currentPageFile指定的文件
- 显示保存成功提示

## 3. 数据结构升级
- 在菜单数据中增加filename字段
- 兼容旧数据

## 4. 实施步骤
1. 创建 `get-page.php` 文件
2. 创建 `create-page.php` 文件
3. 修改前端JavaScript逻辑
4. 测试功能

## 5. 预期效果
- 点击菜单可以切换页面
- 新建/重命名时自动添加.html后缀
- 支持多页面管理
- 页面切换时自动保存当前页
- 菜单显示友好名称和真实文件名