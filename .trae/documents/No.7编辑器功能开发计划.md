## No.7编辑器功能开发计划

### 1. 左侧菜单管理器功能实现

#### 1.1 集成SortableJS库
- 在admin/index.php中引入SortableJS库
- 实现左侧菜单树的拖拽排序功能
- 支持菜单的层级嵌套（向右拖动变为子菜单）

#### 1.2 真实数据绑定
- 从config/site.json读取菜单数据
- 实现菜单数据的动态渲染
- 支持菜单的添加、编辑和删除功能

#### 1.3 菜单操作功能
- 实现菜单名称和URL的编辑
- 支持添加子菜单
- 支持删除菜单
- 实现菜单的保存功能

### 2. 中间画布功能实现

#### 2.1 集成GrapesJS库
- 在admin/index.php中引入GrapesJS库
- 配置GrapesJS编辑器
- 实现画布的基本编辑功能

#### 2.2 页面内容管理
- 从pages-source目录读取页面内容
- 实现页面内容的编辑和保存
- 支持页面的预览功能

#### 2.3 组件拖拽功能
- 实现从右侧组件库拖拽组件到画布
- 支持组件的调整和删除
- 实现组件属性的编辑

### 3. 右侧组件库功能实现

#### 3.1 组件扫描功能
- 开发PHP脚本自动扫描components目录
- 读取组件的config.json配置
- 动态生成组件库界面

#### 3.2 组件分类展示
- 按照组件分类展示组件卡片
- 支持组件的搜索功能
- 实现组件的拖拽到画布功能

### 4. 数据持久化

#### 4.1 菜单数据保存
- 将编辑后的菜单数据保存到config/site.json
- 实现菜单数据的版本控制

#### 4.2 页面内容保存
- 将编辑后的页面内容保存到pages-source目录
- 支持页面内容的版本控制

#### 4.3 组件数据管理
- 管理组件的配置和模板
- 支持组件的版本控制

### 5. 发布功能实现

#### 5.1 静态页面生成
- 开发generator.php脚本
- 从site.json读取配置
- 从pages-source读取页面内容
- 生成完整的HTML页面到public目录

#### 5.2 Git发布
- 实现自动执行git命令
- 支持将生成的页面发布到GitHub
- 实现发布状态的反馈

### 技术栈
- PHP 7.4+
- HTML/CSS/JavaScript
- SortableJS库
- GrapesJS库
- JSON数据存储
- Git版本控制

### 开发步骤
1. 先实现左侧菜单管理器的拖拽功能
2. 然后实现中间画布的GrapesJS集成
3. 接着实现右侧组件库的动态加载
4. 最后实现数据持久化和发布功能

这个计划将按照用户提供的UI设计，逐步实现No.7编辑器的完整功能，打造一个基于组件化与GitHub存储的可视化静态建站引擎。